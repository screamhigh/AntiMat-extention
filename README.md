# AntiMat-extention

# Антимат расширение для браузера

Расширение для фильтрации нецензурных слов на веб-страницах в режиме реального времени с расширенными возможностями поиска и замены.

## Поддержка браузеров

✅ **Google Chrome** - полная поддержка
✅ **Яндекс Браузер** - полная поддержка
✅ **Microsoft Edge** - полная поддержка
✅ **Opera** - полная поддержка
✅ **Другие браузеры на базе Chromium** - полная поддержка

## Возможности

- **Без учета регистра**: слова "ХУЙ" и "хуй" считаются одинаковыми
- **Частичное совпадение**: если в слове есть матерная часть, заменяется всё слово целиком
  - Пример: "хуйсосал" → "***" (содержит "хуй")
  - Пример: "пидорас" → "***" (содержит "пидор")
- **7000+ слов в словаре**: обширная база русских нецензурных слов
- **Оптимизированная производительность**: пачковая обработка для быстрых чатов
- **Реальное время**: мгновенная фильтрация без задержек
- **Управление через popup**: простой интерфейс для настройки

## Установка

1. Скачайте файлы расширения
2. Откройте браузер и перейдите в `chrome://extensions/` (или `edge://extensions/`)
3. Включите "Режим разработчика" в правом верхнем углу
4. Нажмите "Загрузить распакованное расширение"
5. Выберите папку `AntiMat_bySLICK3R`

## Как использовать

1. **Установите расширение** согласно инструкциям выше
2. **Откройте любой сайт** - фильтр начнет работать автоматически
3. **Добавьте свои слова:**
   - Введите слово в поле "Введите слово для добавления"
   - Нажмите "Добавить слово"
   - Слово будет отправлено в общий репозиторий
4. **Настройте замену:**
   - Измените символ замены в поле "Заменить мат на:" (по умолчанию "*")
   - Сохраните настройки

## Алгоритм работы

Расширение использует продвинутый алгоритм фильтрации:

1. **Поиск слов**: находит все слова на странице с помощью регулярных выражений
2. **Проверка регистра**: приводит все слова к нижнему регистру для сравнения
3. **Точное совпадение**: проверяет полное совпадение с базой матерных слов
4. **Частичное совпадение**: если точного совпадения нет, проверяет содержит ли слово матерные подстроки
5. **Замена**: заменяет нецензурные слова на указанный символ

## Источники слов

Расширение использует слова из следующих источников:
- **Локальный словарь**: 7000+ русских нецензурных слов в файле `bad-words-list.txt`
- **Внешний репозиторий**: [obscene_words_ru](https://github.com/screamhigh/obscene_words_ru) - проверенный источник
- **Пользовательские слова**: добавленные через интерфейс расширения

## Тестирование и отладка

### Быстрое тестирование
1. Создайте HTML файл с тестовым текстом:
   ```html
   <!DOCTYPE html>
   <html>
   <head><title>Тест антимата</title></head>
   <body>
     <p>Здесь должны быть матерные слова: хуй, пизда, блядь</p>
     <p>Составные слова: хуйсосал, пидорас, еблан</p>
     <p>Большой регистр: ХУЙ, ПИЗДА, БЛЯДЬ</p>
   </body>
   </html>
   ```
2. Откройте файл в браузере
3. Включите расширение через popup
4. Проверьте фильтрацию слов

### Отладка через консоль
1. **Откройте DevTools** (F12)
2. **Перейдите в Console**
3. **Ищите сообщения:**
   - `ProfanityFilter initialized` - фильтр запущен
   - `Loaded X words from bad-words-list.txt` - слова загружены
   - `Filter enabled/disabled` - статус фильтра

### Распространенные проблемы и решения

#### Расширение не работает
- **Проверьте разрешения** в `chrome://extensions/`
- **Перезагрузите расширение** (включите/выключите)
- **Проверьте консоль** на ошибки JavaScript

#### Слова не фильтруются
- **Проверьте включен ли фильтр** в popup
- **Проверьте символ замены** - должен быть не пустым (по умолчанию "*")
- **Проверьте список слов** - файл `bad-words-list.txt` должен содержать слова
- **Проверьте регистр** - фильтрация работает без учета регистра

#### Настройки не сохраняются
- **Проверьте storage** в DevTools (Application → Storage → chrome.storage)
- **Попробуйте очистить данные** расширения
- **Проверьте консоль** на ошибки сохранения

#### Составные слова не фильтруются полностью
- Расширение заменяет слова целиком при обнаружении матерных частей
- Пример: "хуйсосал" должен стать "***" если содержит матерную основу

## Производительность

Расширение оптимизировано для работы в быстрых чатах:
- **Пачковая обработка**: обрабатывает по 50 узлов за раз
- **Throttling**: задержка 50мс между обновлениями
- **Регулярные выражения**: быстрый поиск слов в тексте
- **Локальное хранение**: слова загружаются из локального файла для скорости

Расширение работает на всех сайтах благодаря permissions `"<all_urls>"`.
